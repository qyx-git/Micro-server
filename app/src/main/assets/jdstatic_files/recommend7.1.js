!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/index/js/",t(t.s=105)}({0:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},105:function(e,t,n){"use strict";var o=n(15),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(8),s=global_index_data,a=n(16);n(64).showBack2Top(),n(65).recommendLoginLik();var c=n(4),d=function(e){this.init(e)};d.prototype={init:function(e){var t=this;this.jsswitch=this.getargval(e.jsswitch,{}),this.isLogIn=this.jsswitch.isLogIn;var n=this.getswitchvalue("recommend");this.botRecommend=this.getswitch("indexbotRecommend"),this.recommendExpiresTime=this.getswitchvalue("recommendExpiresTime"),this.recommendShowTime=this.getswitchvalue("recommendShowTime"),this.recommendAnimationTime=400,this.noindexOptimizeImg=this.getswitch("indexOptimizeImg"),this.topId="bar-top",this.recommendId="bar-recommend",this.recommendTopH=0,t.url=static_url||"",t.imgLazyLad=new a({isOpen:!t.noindexOptimizeImg,rangeH:200}),t.recommendhasrender=!1,n&&(t.recommendPin=n.pin,t.recommendUesCached=n.useCached,t.recommendOpen=!0,t.recommendPage=0,t.recommendPageCount=1,t.recommendDataCount=0,t.recommendListId="recommendList",t.recommendListLoadId="recommendListload",t.recommendListloadImg="recommendListloadImg",t.recommendListLoadMoreBtn="recommendListLoadMoreBtn",t.recommendCanLoad=!0,t.recommendloadHeight=0,t.hasRecommenddata=!0),t.oRecommend=$("#recommend")},getStringBytesNum:function(e){return e=e.replace(/[^\x00-\xff]/g,"**"),e.length},_showBenefitBeltAtPC:function(e){var t="（"+e.benefitTime+"）",n=e.benefitTitle,o=e.benefitImageUrl,i=this.getStringBytesNum(n),r=0,s="";if(i>8){for(var a=n.split(""),c=0;c<4&&!((r+=this.getStringBytesNum(a[c]))>8);c++)s+=a[c];s+="..."}else s=n;return s+=t,'<div class="recommend-benefit-belt" style="background-image:url('+o+')">\n                    <div style="text-align: center; font-size: 12px; white-space: nowrap;">\n                            <span style="color: rgba(0, 0, 0, 0)">（</span>'+s+"\n                    </div>\n                </div>"},_showBenefitBelt:function(e){if((navigator.platform.indexOf("Win32")>-1||navigator.platform.indexOf("MacIntel")>-1)&&navigator.userAgent.indexOf("AppleWebKit")>-1)return this._showBenefitBeltAtPC(e);var t="（"+e.benefitTime+"）",n=e.benefitTitle,o=this.getStringBytesNum(n),i=0,r="";if(o>22){for(var s=n.split(""),a=0;a<10&&!((i+=this.getStringBytesNum(s[a]))>22);a++)r+=s[a];r+="..."}else r=n;return r+=t,'<div class="recommend-benefit-belt">\n                    <div style="text-align: center; font-size: 10px; white-space: nowrap;">\n                            <span style="color: rgba(0, 0, 0, 0)">(</span>'+r+"\n                    </div>\n                </div>"},_showBenefitTag:function(e){return'\n                <div class="recommend-benefit-tag">\n                        <div class="recommend-benefit-tag-title">'+e.preTitle+'</div>\n                        <div class="recommend-benefit-tag-pre-price">￥'+e.prePrice+'</div>\n                        <div class="recommend-benefit-tag-sts">'+e.benefitTime+"</div>\n                </div>\n                "},_showBenefitBeltAndTag:function(e){var t="";return e.prePrice&&""!=e.prePrice||(t=e.benefitTime),'\n                <div class="recommend-benefit-belt-tag">\n                    '+e.benefitTitle+"("+t+')\t\t\t\n                </div>\n                <div class="recommend-benefit-tag">\n                        <div class="recommend-benefit-tag-title">'+e.preTitle+'</div>\n                        <div class="recommend-benefit-tag-pre-price">￥'+e.prePrice+'</div>\n                        <div class="recommend-benefit-tag-sts">'+e.benefitTime+"</div>\n                </div>\n                "},showBenefit:function(e){if(!(e&&e.markFlag&&e.markFlag>0))return"";switch(e.markFlag){case 1:return this._showBenefitBelt(e);default:return""}},firstRecommend:function(e){var t=this;if(0==t.recommendPage){var n=t.recommendMainHtml(e);$("#recommend").html(n),t.recommendBind()}},recommendLoadData:function(e){var t=this;if(t.recommendCanLoad&&t.hasRecommenddata){t.recommendCanLoad=!1,$("#"+t.recommendListLoadId).css("display","block;"),$("#"+t.recommendListloadImg).css("display","block;"),$("#"+t.recommendListLoadMoreBtn).css("display","none;");var n="indexRecommendData_new",o=null;if(t.recommendUesCached){var s=M.localstorage.get(n);try{s=JSON.parse(s)}catch(e){t.log("Line728_dataArr"),s=null}if(s&&2==s.length)t.recommendPin?(o=s[1],o=o.length>=t.recommendPage+1?o[t.recommendPage]:null):(o=s[0],o=o.length>=t.recommendPage+1?o[t.recommendPage]:null),(!o||(new Date).getTime()-o.updateTime>144e5||o.pin!=t.recommendPin)&&(o=null);else try{var a=(0,i.default)([[],[]]);M.localstorage.set(n,a)}catch(e){}}else M.localstorage.remove(n);if(null==o){M.url.getParam("forcebot");M.http.ajax({url:"/index/recommend.action",data:"_format_=json&page="+(t.recommendPage+1),type:"GET",success:function(s){var a=!1,c=!1;if(s&&s.recommend){try{o=JSON.parse(s.recommend)}catch(e){console.log(e,"---recommend-error"),o=null,t.hasRecommenddata=!1}if(o&&o.wareInfoList&&o.wareInfoList.length>0&&(o.recommendList=o.wareInfoList),o&&o.recommendList&&0==o.recommendList.length&&(t.hasRecommenddata=!1,c=!0),o&&o.recommendList&&o.recommendList.length>0){t.firstRecommend(o);var d=t.recommendListHtml(o);if($("#"+t.recommendListId).append(d),(0,r.setTimeout)(function(){$("#"+t.recommendListId).find(".sam-price").each(function(){t.similarPriceFontSize(this)})},100),t.calculationRecommendImg(),t.recommendUesCached){o.updateTime=(new Date).getTime(),o.pin=t.recommendPin;var m=M.localstorage.get(n);try{m=JSON.parse(m)}catch(e){m=null}m&&M.object.isArray(m)&&(t.recommendPin?m[1].length>=t.recommendPage+1?m[1][t.recommendPage]=o:m[1].push(o):m[0].length>=t.recommendPage+1?m[0][t.recommendPage]=o:m[0].push(o));try{M.localstorage.set(n,(0,i.default)(m))}catch(e){}}t.recommendPage++;"1"==M.url.getParam("recommend")&&1==t.recommendPage&&(M.url.setHash("recommend"),window.location=window.location),t.imgLazyLad.lazyLad(),t.recommendloadHeight=$("#scwrapper").height()-4*$("#"+t.recommendListId).find("li").eq(0).height(),a=!(t.recommendPage%3!=0||!t.hasRecommenddata),c=!0}}if(c?a?($("#"+t.recommendListLoadId).css("display","block;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","block;")):($("#"+t.recommendListLoadId).css("display","none;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","none;"),t.recommendCanLoad=!0):(t.recommendloadHeight=$("#scwrapper").height()-4*$("#"+t.recommendListId).find("li").eq(0).height(),t.recommendCanLoad=!1,$("#"+t.recommendListLoadId).css("display","none;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","none;")),M.object.isFunction(e))try{e()}catch(e){}},error:function(){t.recommendloadHeight=$("#scwrapper").height()-4*$("#"+t.recommendListId).find("li").eq(0).height(),t.recommendCanLoad=!1,$("#"+t.recommendListLoadId).css("display","none;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","none;")}})}else{t.firstRecommend(o);var c=t.recommendListHtml(o);$("#"+t.recommendListId).append(c),t.calculationRecommendImg();var d=M.url.getParam("recommend");t.recommendPage++,t.recommendloadHeight=$("#scwrapper").height()-4*$("#"+t.recommendListId).find("li").eq(0).height(),"1"==d&&1==t.recommendPage&&(M.url.setHash("recommend"),window.location=window.location),t.imgLazyLad.lazyLad(),t.recommendPage%3==0&&t.hasRecommenddata?($("#"+t.recommendListLoadId).css("display","block;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","block;")):($("#"+t.recommendListLoadId).css("display","none;"),$("#"+t.recommendListloadImg).css("display","none;"),$("#"+t.recommendListLoadMoreBtn).css("display","none;"),t.recommendCanLoad=!0)}}t.recommendhasrender=!0},_showLoginLink:function(){var e="http%3A%2F%2Fm.jd.com";return"m.jd.com"!=location.host&&(e="http%3A%2F%2Fbeta-m.m.jd.com"),'<a href="javascript: void(0)" >\n\t\t\n\t\t\t\t<div class="recommend-login-link" \n\t\t\t\t    report-eventlevel ="1" \n                    report-eventid="MHome_RecTxt"\n                    report-eventparam="" \n\t\t\t\t    links="//plogin.m.jd.com/user/login.action?source=mhomerecommend&appid=447&returnurl='+e+'">\n\t\t\t\t\t登录账号，查看专属推荐商品 &gt; \n\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t</a>'},recommendMainHtml:function(e){var t=this,n=[];return e&&e.recommendList&&e.recommendList.length>0&&(n.push('<div class="gray-text"><span class="gray-layout"><span class="gray-text-img"></span>为您推荐</span></div>'),t.isLogIn||n.push(this._showLoginLink()),n.push('<ul class="find-similar-ul cf" data-floor="Mhome_BRecommend" id="'+t.recommendListId+'">'),n.push("</ul>"),n.push('<div style="clear: left;"></div>'),n.push('<div style="display: none;" class="swipe-up love-loading" id="'+t.recommendListLoadId+'">'),n.push('<div class="swipe-up-wrapper ">'),n.push('<div style="display: none;" id="'+t.recommendListloadImg+'" class="loading-con">'),n.push('<span class="pagenum" id="showPageID"></span>'),n.push('<span class="loading"><i class="love-loading-icon">加载中...</i></span>'),n.push('<div class="clear"></div>'),n.push("</div>"),n.push('<div style="display: none;" id="'+t.recommendListLoadMoreBtn+'" class="click-loading"><a href="javascript:void(0);">点击继续加载</a></div>'),n.push("</div>"),n.push("</div>")),n.join("")},likeSimilarities:function(e){event.stopPropagation();var t=$(e).attr("data-eventparam"),n=$(e).attr("data-href");c.sendMping("MHomeGuessYouLike_BSimilarities",t,"1"),c.sendMping("MHomeGuessYouLike_BProducts",t,"1"),(0,r.setTimeout)(function(){window.location=n},200);var o=$(e).parents(".similar-product").parent("a");try{var i=$(o).attr("clickUrl");if(null!=i){var s=new Image(1,1),a=i.indexOf("?")>-1?i+"&_="+(new Date).getTime():i+"?_="+(new Date).getTime();s.src=a}}catch(e){console.log("recommendAddExposeBind error!",e)}},recommendAddExposeBind2:function(e){var t=$(e).attr("data-eventparam"),n=$(e).attr("data-href");c.sendMping("MHomeGuessYouLike_BProducts",t,"1"),(0,r.setTimeout)(function(){window.location=n},200);try{var o=$(e).attr("clickUrl");if(null!=o){var i=new Image(1,1),s=o.indexOf("?")>-1?o+"&_="+(new Date).getTime():o+"?_="+(new Date).getTime();i.src=s}}catch(e){console.log("recommendAddExposeBind error!",e)}},recommendListHtml:function(e){var t=this,n=t.url,o=[],i="";if(window.addExpose=t.recommendAddExposeBind2,window.likeSimilarities=t.likeSimilarities,e&&e.recommendList&&e.recommendList.length>0)for(var r=0;r<e.recommendList.length;r++){var s=e.recommendList[r],a=s.itemType,c=s.clickUrl;if(!(a&&"0"!=a&&"1"!=a||s.type&&"ware"!=s.type))if(t.recommendDataCount++,0!=r||"0"!=a||t.recommendBoxAdd||s.imageurl&&s.wname&&s.jdPrice&&(i+='<div class="recommend-box">',i+='<div class="botRec-img"><img src="'+(s.imageurl?s.imageurl.replace(/http:/g,""):"")+'"/></div>',i+='<div class="botRec-info">',i+='<p class="botRec-title">'+s.wname+"</p>",i+='<p class="botRec-money"><i class="love"></i>猜你喜欢<span>&yen;&nbsp;'+s.jdPrice+"</span></p>",i+="</div>",i+='<div class="goRec-arrow"></div>',i+='<i class="botRec-arrow"></i>',i+="</div>",$("#botRecommend").append(i),t.recommendBoxAdd="true"),"0"==a){o.push('<li class="similar-li"><a  '+(c?' clickUrl="'+c+'" ':"")+' onClick="addExpose(this)" data-eventparam="'+s.sourceValue+"_"+s.markFlag+'"  data-href="//item.m.jd.com/product/'+s.wareId+'.html">'),o.push('<div  class="similar-product"><div class="similar-posre">'+this.showBenefit(s)+'<img class="Jschangewidth" alt="'+s.wname+'"  src="'+n+'/images/index/m-home-pic-new.png" imgsrc="'+(s.imageurl?s.imageurl.replace(/http:/g,""):"")+'" >');var d=s&&!!s.markFlag&&s.markFlag;s.recomReason&&!d&&o.push('<p class="similar-tipwz">'+s.recomReason+"</p>"),o.push("</div>"),o.push('<span class="similar-product-text">');if(s.wareType&&"8"==s.wareType?(o.push('<img src="'+(s.markImageUrl?s.markImageUrl.replace(/http:/g,""):"")+'" style="'+(s.markWidth?"width:"+s.markWidth+"px;":"")+(s.markHeight?"height:"+s.markHeight+"px;":"")+'" class="chosen">'),!0):s.isSamWare&&!s.wareType&&(o.push('<img src="'+t.url+'/images/index/samsb.png" class="samsb">'),!0),o.push(s.wname+"</span>"),o.push('<p class="similar-product-info">'),o.push('<span class="similar-product-price">'),s.jdPrice){s.jdPrice=s.jdPrice+"";var m=s.jdPrice.split(".");m&&(o.push("&yen;&nbsp;"),m[0]&&o.push('<span class="big-price">'+m[0]+"</span>"),m[1]&&o.push('<span class="small-price">.'+m[1]+"</span>"))}if(o.push("</span>"),!s.markImageUrlPrice||s.isPlusWare||s.isSamWare||o.push('<span class="similar-iconC"><img src="'+s.markImageUrlPrice.replace(/http:/g,"")+'"></span>'),s.isSamWare&&s.samPrice&&!s.isPlusWare){var l=s.samPrice+"",p=l.length-3;o.push('<span class="sam-price"  data-priceLen='+p+">&yen;&nbsp;"+l+"</span>")}if(s.isPlusWare&&!s.isSamWare){var u=s.tryPlusPrice+"",p=u.length-3;o.push('<span class="sam-price plus-price"  data-priceLen='+p+">&yen;&nbsp;"+u+"</span>")}if(o.push("</p>"),o.push('<p class="praise-info">'),s.good){var f=s.good.toString().split(".");f[1]&&f[1].length>2&&(f[1]=f[1].substring(0,2)+"%",s.good=f[0]+"."+f[1]),o.push('<span class="praise-num"><span>好评率'+s.good+"</span></span>")}o.push('<span class="guess-button"  data-eventparam="'+(20*t.recommendPage+r+1)+"_"+s.wareId+'_1" page_name="index" data-href="//home.m.jd.com/myjd/similar/list.action?skuId='+s.wareId+'"   onclick="likeSimilarities(this)"  >看相似</span></p>'),o.push("</div></a>"),s.source&&1==s.source&&o.push('<div class="recommend-ad-mark"></div>'),o.push("</li>")}else if("1"==a&&s.imageurl&&s.wname&&s.followCount){var h=s.subWareList,g=[];if(h&&h.length>0)for(var v=0,w=h.length;v<w;v++)h[v].wareId&&h[v].imageUrl&&g.push(h[v]);g.length>=2&&(o.push('<li class="similar-li similar-shop">'),o.push('<div class="shop-posre"><img class="shop-seat" src="'+n+'/images/index/load/similar-shop.png">'),o.push('<div class="similar-product"><a class="J_ping" report-eventlevel="1" report-eventid="MHome_BRecommendShop"  report-eventparam="'+s.sourceValue+'" page_name="index"  href="https://shop.m.jd.com/?shopId='+s.wareId+'">'),o.push('<p class="smshop-logo" ><img src="'+(s.imageurl?s.imageurl.replace(/http:/g,""):"")+'"></p>'),o.push('<p class="smshop-name"><i></i>'+s.wname+"</p>"),o.push('<p class="smshop-num">'+s.followCount+"人关注</p>"),o.push('<p class="smshop-btn"><span>查看店铺</span></p>'),o.push('<p class="sm-line"><span></span><i></i></p>'),o.push("</a>"),o.push('<div class="sm-imglist">'),o.push('<a class="sm-imgitem J_ping"  report-eventlevel="1" report-eventid="MHome_BRecommendShopProduct"  report-eventparam="'+g[0].wareId+'" page_name="index"    href="https://shop.m.jd.com/?shopId='+s.wareId+"&homeSku="+g[0].wareId+'" >'),o.push('<img  src="'+g[0].imageUrl.replace(/http:/g,"")+'">'),o.push("</a>"),o.push('<a class="sm-imgitem J_ping"  report-eventlevel="1" report-eventid="MHome_BRecommendShopProduct"  report-eventparam="'+g[1].wareId+'" page_name="index"    href="https://shop.m.jd.com/?shopId='+s.wareId+"&homeSku="+g[1].wareId+'" >'),o.push('<img  src="'+g[1].imageUrl.replace(/http:/g,"")+'">'),o.push("</a>"),o.push("</div>"),o.push("</div></div>"),o.push('<a class="J_ping" report-eventlevel="1" report-eventid="MHome_BRecommendShop"  report-eventparam="'+s.sourceValue+'" page_name="index"   href="https://shop.m.jd.com/?shopId='+s.wareId+'">'),o.push("</a>"),o.push("</li>"))}}return o.join("")},recommendBind:function(){var e=this;e.recommendOpen&&$("#"+e.recommendListLoadMoreBtn).on("click",function(t){e.recommendCanLoad=!0,e.recommendLoadData()})},tabSwitch:function(e,t){var n=this;if(n.oRecommend.length>0){var o=38;o=t?t+38:38,n.recommendTopH=Math.ceil($("#recommend").offset().top-o),Math.ceil(e)<n.recommendTopH?($("#"+n.topId).hide(),$("#"+n.recommendId).show()):($("#"+n.topId).show(),$("#"+n.recommendId).hide())}if(n.oRecommend.length>0&&$("#bottom-bar-pannel").length>0){var i=Math.ceil(n.oRecommend.offset().top-$(window).height()+$("#bottom-bar-pannel").height());n.recommendShowTime=n.recommendShowTime?n.recommendShowTime:3e3;var s=n.recommendShowTime+n.recommendAnimationTime;if(n.botRecommend){var a=$("#search-box-new").height()?$("#search-box-new").height():0,d=$("#slider").height()+a-38;(e<d||e>=i)&&$("#botRecommend").removeClass("ScaleShow"),"show"==M.cookie.getCookie("recommendShow")&&e>=d&&e<i&&($("#botRecommend").addClass("ScaleShow"),n.recommendExpiresTime=n.recommendExpiresTime?n.recommendExpiresTime:1,M.cookie.setCookie("recommendShow","show",Number(n.recommendExpiresTime),"","jd.com"),c.sendMping("MHome_BBottomTipExpo")),(0,r.setTimeout)(function(){$("#botRecommend").removeClass("ScaleShow")},s)}}},benefitPing:function(){var e=0,t=$(window).scrollTop(),n=$(window).height(),o=function(e){return e||0}($(".bottom-bar-pannel").height());"none"!=$("#scwrapper").css("display")&&$(".recommend-benefit-belt").each(function(){e=$(this).offset().top,$(this).attr("Ping")||e>=t&&t+n-o>=e&&(c.sendMping("MHome_SalesBeltExpo","",""),$(this).attr("Ping","true"))})},scrollFn:function(){var e=this;window.addEventListener("scroll",function(){var t=$(window).scrollTop();e.tabSwitch(t),e.recommendScroll(t),e.benefitPing()},!1)},recommendRender:function(e){var t=this;t.recommendOpen&&!t.recommendhasrender&&(t.recommendLoadData(e),t.recommendhasrender=!0)},recommendScroll:function(e){var t=this;t.recommendOpen&&t.recommendCanLoad&&e>=t.recommendloadHeight&&t.recommendLoadData()},recommendResize:function(){var e=this;e.recommendOpen&&e.recommendCanLoad&&(e.recommendloadHeight=$("#scwrapper").height()-4*$("#"+e.recommendListId).find("li").eq(0).height()),e.calculationRecommendImg(),e.benefitPing()},toTopBind:function(){var e=this;$("#"+e.topId).on("click",function(){$(this).hide(),$("#"+e.recommendId).show(),window.scrollTo(0,0),c.sendMping("MHome_HomeTwo",null,1)})},toRecommend:function(){function e(){t.recommendTopH=Math.ceil($("#recommend").offset().top-38),(0,r.setTimeout)(function(){window.scrollTo(0,t.recommendTopH)},100)}var t=this;t.botRecommend&&$("#botRecommend").on("click",function(){e(),c.sendMping("MHome_BBottomTip",null,1)}),$("#"+t.recommendId).on("click",function(){0==$("#recommend").length?t.recommendRender(e):e(),c.sendMping("MHome_HomeOne",null,1)})},calculationRecommendImg:function(){var e=this;$("body").width();$("#"+e.recommendListId).find(".Jschangewidth").forEach(function(e,t){var n=$(e).parent().width();$(e).css({width:n,height:n})}),$("#"+e.recommendListId).find(".similar-shop").forEach(function(e,t){var n=$(e).find(".shop-seat").width()+95;$(e).find(".shop-posre").css({height:n})}),$("#"+e.recommendListId).find(".smshop-logo").forEach(function(e,t){var n=$(".similar-product").width()-68;$(e).find("img").css({height:n/3})}),$("#"+e.recommendListId).find(".sm-imgitem").forEach(function(e,t){var n=($(".similar-product").width()-14)/2-6;$(e).find("img").css({height:n})})},similarPriceFontSize:function(e){var t=$(e).data("pricelen");t>=6&&(t=6),t>2&&$(e).parent(".similar-product-info").addClass("priceSize"+t)},getargval:function(e,t){var n=void 0===t?null:t;return e||n},getswitch:function(e){return!!e&&!!this.jsswitch[e]},getswitchvalue:function(e){return!!e&&this.jsswitch[e]},abtest:function(e){var t=this,n=e||1;return t.globalabtest?t.globalabtest:n},resizeFn:function(){var e=this,t="onorientationchange"in window,n=t?"orientationchange":"resize";$(window).on(n,function(){e.recommendResize(),e.imgLazyLad.lazyLad()})},run:function(){var e=this;e.scrollFn(),e.recommendRender(),e.resizeFn();try{e.toTopBind(),e.toRecommend()}catch(t){e.log("Recommend---",t)}}},e.exports=d,new d(s).run()},12:function(e,t,n){(function(e,t){!function(e,n){"use strict";function o(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return d[c]=o,a(c),c++}function i(e){delete d[e]}function r(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}function s(e){if(m)setTimeout(s,0,e);else{var t=d[e];if(t){m=!0;try{r(t)}finally{i(e),m=!1}}}}if(!e.setImmediate){var a,c=1,d={},m=!1,l=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},a=function(t){e.port2.postMessage(t)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;a=function(t){var n=l.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){a=function(e){setTimeout(s,0,e)}}(),p.setImmediate=o,p.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(0),n(13))},13:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(m===setTimeout)return setTimeout(e,0);if((m===n||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(t){try{return m.call(null,e,0)}catch(t){return m.call(this,e,0)}}}function r(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){h&&u&&(h=!1,u.length?f=u.concat(f):g=-1,f.length&&a())}function a(){if(!h){var e=i(s);h=!0;for(var t=f.length;t;){for(u=f,f=[];++g<t;)u&&u[g].run();g=-1,t=f.length}u=null,h=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function d(){}var m,l,p=e.exports={};!function(){try{m="function"==typeof setTimeout?setTimeout:n}catch(e){m=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var u,f=[],h=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||h||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},15:function(e,t,n){e.exports={default:n(19),__esModule:!0}},16:function(e,t,n){"use strict";var o=n(17),i=function(e){this.init(e)};i.prototype={init:function(e){var t=this,n=e||{};t.defaults={imgmp:{},sendindex:8,scrollObj:window,refreshTimer:null,duration:100,imgSrc:"imgsrc",rangeH:200,container:"imgContainer",imgSrcW:"_src",animationName:"fade",showDelay:"100ms",styleContianer:"styleID",errorImgSrc:"",isOpen:!0,floorsInfo:{jsUrl:static_url+"/js/index/floors/",activitiesUrl:static_url+"/js/index/activities/",flsData:global_index_data,isFloorsLoad:!1,flsSrc:"flSrc",firstTpl:[],slideTpl:["06001","06002","06003","06004","05013"],activeTpl:[],noFindFloors:[],errorFloors:[],floorsTpl:[],floorVsersion:[]}},$.extend(!0,t.defaults,n),t.duration=t.defaults.duration,t.container=t.defaults.container,t.imgSrc=t.defaults.imgSrc,t.rangeH=t.defaults.rangeH,t.imgSrcW=t.defaults.imgSrcW,t.isOpen=t.defaults.isOpen,t.animationName=t.defaults.animationName,t.showDelay=t.defaults.showDelay,t.styleContianer=t.defaults.styleContianer,t.scrollObj=t.defaults.scrollObj,t.imgmp=t.defaults.imgmp,t.sendindex=t.defaults.sendindex,t.baseId="img_loading",t.jsUrl=t.defaults.floorsInfo.jsUrl,t.activitiesUrl=t.defaults.floorsInfo.activitiesUrl,t.isFloorsLoad=t.defaults.floorsInfo.isFloorsLoad,t.flsSrc=t.defaults.floorsInfo.flsSrc,t.flsData=t.defaults.floorsInfo.flsData,t.isAllScreen=t.flsData.isAllScreen,t.slideTpl=t.defaults.floorsInfo.slideTpl,t.activeTpl=t.defaults.floorsInfo.activeTpl,t.floorsTpl=t.defaults.floorsInfo.floorsTpl,t.floorVsersion=t.defaults.floorsInfo.floorVsersion,t.firstTpl=t.defaults.floorsInfo.firstTpl,t.noFindFloors=t.defaults.floorsInfo.noFindFloors,t.errorFloors=t.defaults.floorsInfo.errorFloors,t.refreshTimer&&(clearTimeout(self.refreshTimer),t.refreshTimer=null),t.bind(),setTimeout(function(){t.lazyLad()},100)},bind:function(){var e=this;$(e.scrollObj).on("scroll",function(){e.refreshTimer&&(clearTimeout(e.refreshTimer),e.refreshTimer=null),e.refreshTimer=setTimeout(function(){e.lazyLad()},e.duration)})},belowthefold:function(e){return $(window).scrollTop()-this.rangeH<=$(e).offset().top+($(e).get(0).offsetHeight+2)},abovethetop:function(e){var t=this;return $(e).offset().top<=$(window).scrollTop()+document.documentElement.clientHeight+t.rangeH},inViewport:function(e){var t=this;return t.belowthefold(e)&&t.abovethetop(e)},setStyle:function(e,t){for(var n in t)e.style[n]=t[n]},addStyle:function(){var e=document.getElementById(this.styleContianer)||document.getElementsByTagName("head")[0],t=document.createElement("style");t.innerHTML+=" @-webkit-keyframes fade { 0%   { opacity: 0; } 100%   { opacity: 1; }} @keyframes fade {  0%   { opacity: 0; }  100%   { opacity: 1; }}",e.appendChild(t)},squareImg:function(e){$(e).each(function(){var e=$(this).height();e>10&&$(this).css({width:e})})},checkIphone:function(){return!!/iphone|ipd|ipod/.test(window.navigator.userAgent.toLowerCase())},setImgURL:function(e){var t=this,n=e[0].getAttribute(""+t.imgSrc),o=e[0].getAttribute("src"),i="";if(n&&""!=o)i=n.replace(/http:/g,"");else{e[0].outerHTML}var r=2*parseInt(e.width()),s=2*parseInt(e.height());return r<2||s<2||!i?i:(i=i.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+r+"x"+s+"_jfs"),i&&-1==i.indexOf(".dpg")&&t.checkIphone()?i+=".dpg":i&&-1==i.indexOf(".webp")&&!t.checkIphone()&&(i+=".dpg.webp"),i)},changSrc:function(e,t){var n=this;if("none"!=$("#scwrapper").css("display")){var o=t||n.imgSrc,i=e.attr(""+o),r=new Image,s=i,a=e.attr("imgtitle");$(e).closest("li").hasClass("seckill-new-item"),n.isOpen&&(s=!i&&a?i:n.setImgURL(e)),e.css("opacity",0),r.src=s,r.addEventListener("load",function(){e.attr("src",s).removeAttr(""+o).css("opacity",1)},!1),r.onerror=function(){e.attr("src",i).removeAttr(""+o).css("opacity",1)}}},floorColor:function(){$(".graphic-btn").each(function(){var e=$(this).data("lbcolor");if(e){var t=e.split(",");1==t.length?$(this).css({background:t}):2==t.length?($(this).css({"background-image":"-webkit-linear-gradient(to right,"+t[0]+","+t[1]+")"}),$(this).css({"background-image":"linear-gradient(to right,"+t[0]+","+t[1]+")"})):3==t.length?($(this).css({"background-image":"-webkit-linear-gradient(to right,"+t[0]+","+t[1]+","+t[2]+")"}),$(this).css({"background-image":"linear-gradient(to right,"+t[0]+","+t[1]+","+t[2]+")"})):$(this).css({background:"#952dff"})}}),$(".graphic-tit").each(function(){var e=$(this).data("titcolor");if(e){var t=e.split(",");1==t.length?$(this).css({color:t}):2==t.length?$(this).css({"background-image":"-webkit-linear-gradient(left,"+t[0]+","+t[1]+")","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}):3==t.length?$(this).css({"background-image":"-webkit-linear-gradient(left,"+t[0]+","+t[1]+","+t[2]+")","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}):$(this).css({color:"#222"})}})},dGardenFloor:function(){$(".dGardenFloor").each(function(){$(this).find("a.J_ping").attr("report-eventid","MHome_DGardenFloor")})},floorHtml:function(e,t){var n=this;if(e)$(t).html(e),$(t).removeAttr(n.flsSrc).attr("load","true");else{var o=$(t).attr(n.flsSrc);-1==n.errorFloors.indexOf(o)&&(n.errorFloors.push(o),console.log("error----"+o)),$(t).html(e).css({height:0,"margin-top":0,overflow:"hidden"})}},floorsAdd:function(e){var t,n,i,r,s=this,a="",c=0;s.flsData.secondStartPosition;if(t=$(e).attr("data-sub"),a=$(e).attr("flSrc"),i=$(e).attr("id"),c=$(e).attr("data-index"),r=$(e).attr("data-special"),r?n=s.flsData.secondScreenFloors[c]:-1==s.slideTpl.indexOf(a)&&-1==s.floorsTpl.indexOf(a)&&"seckill"!=a||(n=s.flsData.secondScreenFloors[c].content.subFloors[t]),n&&a){if(n.staticUrl=static_url,window.floorsName[a]&&r){var d="";try{d=window.floorsName[a].init(n)}catch(e){d=""}s.floorHtml(d,e)}else if("title"==a){var m=window.floorsName.floortitle.init(n);s.floorHtml(m,e)}else if("seckill"==a){n.globaSeckillUrl=s.flsData.jsswitch.index_newseckillurl;var l="";try{l=window.floorsName.seckill.init(n)}catch(e){l=""}s.floorHtml(l,e)}else if(-1!=s.slideTpl.indexOf(a)){n.num=t+1,n.floorId=$(e).attr("data-id");var p="";try{p=window.floorsName.banner.init(n)}catch(e){p=""}s.floorHtml(p,e)}else if(-1!=s.activeTpl.indexOf(a)){var u=s.activitiesUrl+a+"/index.js";o.init(u,function(t,n){window.floorsName[t]=window[t];var o="";try{o=window.floorsName[t].init(n)}catch(e){o=""}s.floorHtml(o,e)}.bind(e,a,n))}else if(-1!=s.floorsTpl.indexOf(a)&&window.floorsName["floor"+a]){var f=window.floorsData["floor"+a];if(f)for(var h=0,g=f.length;h<g;h++){var v="";try{v=window.floorsName["floor"+a].init(f[h])}catch(e){v=""}var w=f[h].floorId;w&&s.floorHtml(v,"#"+w)}var y="";try{y=window.floorsName["floor"+a].init(n)}catch(e){y=""}s.floorHtml(y,e)}else if(-1!=s.floorsTpl.indexOf(a)&&!window.floorsName["floor"+a]){""==window.floorsName["floor"+a]&&(n.floorId=i,window.floorsData["floor"+a]?window.floorsData["floor"+a].push(n):window.floorsData["floor"+a]=[n]);var b=s.floorVsersion[s.floorsTpl.indexOf(a)];b=b||"";s.jsUrl}-1==s.activeTpl.indexOf(a)&&-1==s.floorsTpl.indexOf(a)&&-1==s.slideTpl.indexOf(a)&&-1==s.firstTpl.indexOf(a)&&-1==s.noFindFloors.indexOf(a)&&(console.log(a+"---楼层不存在"),s.noFindFloors.push(a))}},floorsLoad:function(){function e(e){window.floorsName["floor"+e]=window["floor"+e],t.inViewport(this)&&(t.floorsAdd(this),t.floorColor())}var t=this,n="";$("div["+t.flsSrc+"]").each(function(){if(n=$(this).attr(t.flsSrc),-1!=t.floorsTpl.indexOf(n)&&void 0==window.floorsName["floor"+n]){window.floorsName["floor"+n]="";var i=t.jsUrl+"floor"+n+".js";o.init(i,e.bind(this,n),n)}else t.inViewport(this)&&(t.floorsAdd(this),t.floorColor())})},lazyLad:function(e){var t=this;t.isFloorsLoad&&(t.floorsLoad(),t.dGardenFloor());var n=[],o=document.getElementById(t.container),i=e||t.imgSrc;n=o?$(o).find("img["+i+"]"):$("img["+i+"]");for(var r=0,s=n.size();r<s;r++){var a=$(n[r]);e?t.changSrc(a,t.imgSrcW):t.inViewport(a)&&(a.addClass("opa1"),t.changSrc(a,t.imgSrc))}}},e.exports=i},17:function(e,t,n){"use strict";window.jsUrls=[];var o={init:function(e,t,n){if(!n||-1==window.jsUrls.indexOf(n)){window.jsUrls.push(n);var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("charset","utf-8"),i.setAttribute("src",e),o.appendChild(i);var r=function(){"function"==typeof t&&t()};i.onerror=function(){console.log("url----error");var e=window.jsUrls.indexOf(n);window.jsUrls.splice(e,1)},document.all?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||r()}:i.onload=function(){r()}}}};e.exports=o},19:function(e,t,n){var o=n(5),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},4:function(e,t,n){"use strict";var o={sendMping:function(e,t,n){try{var o=new MPing.inputs.Click(e);o.event_param=t||"",o.event_level=n?parseInt(n):"";(new MPing).send(o)}catch(e){console.log("mping sendMping errpr",e)}}};e.exports=o},5:function(e,t){var n=e.exports={version:"2.5.4"};"number"==typeof __e&&(__e=n)},64:function(e,t,n){"use strict";var o=n(4);e.exports={showBack2Top:function(){var e=-document.documentElement.clientHeight,t=document.getElementById("mBack2Top");if(!t){$(document.body).append('\n                <a href="javascript:void(0)" class="m-back-to-top" id="mBack2Top"></a>\n            '),t=document.getElementById("mBack2Top")}t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),window.scrollTo(0,0),o.sendMping("MHome_BackTop","","")}),window.addEventListener("scroll",function(){document.getElementById("scwrapper").getBoundingClientRect().top<e?t.style.display="block":t.style.display="none"})}}},65:function(e,t,n){"use strict";var o=n(4);e.exports={_setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()},recommendLoginLik:function(){var e,t,n=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},i=function(e){var t=new Date;t.setTime(t.getTime()-1);var o=n(e);null!=o&&(document.cookie=e+"="+o+";expires="+t.toGMTString())},r=!0,s=!0,a=this;if(window.sessionStorage&&navigator.userAgent.indexOf("vivo")<0&&navigator.userAgent.indexOf("OPPO")<0)(t=sessionStorage.getItem("recommendTop"))&&(window.scrollBy(0,4900),sessionStorage.removeItem("recommendTop"),setTimeout(function(){var e,n;try{document.getElementById("recommend")&&(e=document.getElementById("recommend").getBoundingClientRect().top,n=Math.abs(e-t),window.scrollBy(0,n))}catch(e){}},1e3));else try{t=n("recommendTop"),t&&(setTimeout(function(){window.scrollBy(0,4900),i("recommendTop")},800),setTimeout(function(){var e,n;document.getElementById("recommend")&&(e=document.getElementById("recommend").getBoundingClientRect().top,n=Math.abs(e-t),window.scrollBy(0,n))},2e3))}catch(e){}window.addEventListener("scroll",function(){e||(e=document.querySelector(".recommend-login-link")),s&&e&&e.getBoundingClientRect().top<document.documentElement.clientHeight-75&&(o.sendMping("MHome_RecTxtExpo","",""),s=!1),r&&e&&(e.onclick=function(){var e=this.getAttribute("report-eventlevel"),t=this.getAttribute("report-eventid"),n=this.getAttribute("report-eventparam");o.sendMping(t,n,e);try{window.sessionStorage&&navigator.userAgent.indexOf("vivo")<0&&navigator.userAgent.indexOf("OPPO")<0?sessionStorage.setItem("recommendTop",Math.abs(document.getElementById("recommend").getBoundingClientRect().top)):a._setCookie("recommendTop",Math.abs(document.getElementById("recommend").getBoundingClientRect().top))}catch(e){}var i=this;setTimeout(function(){var e=i.getAttribute("links");location.href=e},200),r=!1})})}}},8:function(e,t,n){(function(e){function o(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(12),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(0))}});